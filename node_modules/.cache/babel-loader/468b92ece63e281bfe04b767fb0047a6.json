{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\madys\\\\Documents\\\\GitHub\\\\FotoFlix-V.2\\\\src\\\\components\\\\Common\\\\InfiniteScroll.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction isBottom(ref) {\n  if (!ref.current) {\n    return false;\n  }\n  return ref.current.getBoundingClientRect().bottom <= window.innerHeight;\n}\nexport const InfiniteScroll = _ref => {\n  _s();\n  let {\n    onBottomHit,\n    isLoading,\n    hasMoreData,\n    loadOnMount,\n    children\n  } = _ref;\n  const [initialLoad, setInitialLoad] = useState(true);\n  const contentRef = useRef(null);\n  useEffect(() => {\n    if (loadOnMount && initialLoad) {\n      onBottomHit();\n      setInitialLoad(false);\n    }\n  }, [onBottomHit, loadOnMount, initialLoad]);\n  useEffect(() => {\n    const onScroll = () => {\n      if (!isLoading && hasMoreData && isBottom(contentRef)) {\n        onBottomHit();\n      }\n    };\n    document.addEventListener('scroll', onScroll);\n    return () => document.removeEventListener('scroll', onScroll);\n  }, [onBottomHit, isLoading, hasMoreData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: contentRef,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 10\n  }, this);\n};\n_s(InfiniteScroll, \"LkzAaJ7p7M39cr0LC1wK3+theCg=\");\n_c = InfiniteScroll;\nvar _c;\n$RefreshReg$(_c, \"InfiniteScroll\");","map":{"version":3,"names":["useEffect","useRef","useState","isBottom","ref","current","getBoundingClientRect","bottom","window","innerHeight","InfiniteScroll","onBottomHit","isLoading","hasMoreData","loadOnMount","children","initialLoad","setInitialLoad","contentRef","onScroll","document","addEventListener","removeEventListener"],"sources":["C:/Users/madys/Documents/GitHub/FotoFlix-V.2/src/components/Common/InfiniteScroll.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\ntype Props = {\r\n  onBottomHit: () => void;\r\n  isLoading: boolean;\r\n  hasMoreData: boolean;\r\n  loadOnMount: boolean;\r\n  children: React.ReactNode;\r\n};\r\n\r\nfunction isBottom(ref: React.RefObject<HTMLDivElement>) {\r\n  if (!ref.current) {\r\n    return false;\r\n  }\r\n  return ref.current.getBoundingClientRect().bottom <= window.innerHeight;\r\n}\r\n\r\nexport const InfiniteScroll: React.FC<Props> = ({\r\n  onBottomHit,\r\n  isLoading,\r\n  hasMoreData,\r\n  loadOnMount,\r\n  children,\r\n}) => {\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n  const contentRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (loadOnMount && initialLoad) {\r\n      onBottomHit();\r\n      setInitialLoad(false);\r\n    }\r\n  }, [onBottomHit, loadOnMount, initialLoad]);\r\n\r\n  useEffect(() => {\r\n    const onScroll = () => {\r\n      if (!isLoading && hasMoreData && isBottom(contentRef)) {\r\n        onBottomHit();\r\n      }\r\n    };\r\n    document.addEventListener('scroll', onScroll);\r\n    return () => document.removeEventListener('scroll', onScroll);\r\n  }, [onBottomHit, isLoading, hasMoreData]);\r\n\r\n  return <div ref={contentRef}>{children}</div>;\r\n};"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAUpD,SAASC,QAAQ,CAACC,GAAoC,EAAE;EACtD,IAAI,CAACA,GAAG,CAACC,OAAO,EAAE;IAChB,OAAO,KAAK;EACd;EACA,OAAOD,GAAG,CAACC,OAAO,CAACC,qBAAqB,EAAE,CAACC,MAAM,IAAIC,MAAM,CAACC,WAAW;AACzE;AAEA,OAAO,MAAMC,cAA+B,GAAG,QAMzC;EAAA;EAAA,IAN0C;IAC9CC,WAAW;IACXC,SAAS;IACTC,WAAW;IACXC,WAAW;IACXC;EACF,CAAC;EACC,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAMgB,UAAU,GAAGjB,MAAM,CAAiB,IAAI,CAAC;EAE/CD,SAAS,CAAC,MAAM;IACd,IAAIc,WAAW,IAAIE,WAAW,EAAE;MAC9BL,WAAW,EAAE;MACbM,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,CAACN,WAAW,EAAEG,WAAW,EAAEE,WAAW,CAAC,CAAC;EAE3ChB,SAAS,CAAC,MAAM;IACd,MAAMmB,QAAQ,GAAG,MAAM;MACrB,IAAI,CAACP,SAAS,IAAIC,WAAW,IAAIV,QAAQ,CAACe,UAAU,CAAC,EAAE;QACrDP,WAAW,EAAE;MACf;IACF,CAAC;IACDS,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,EAAEF,QAAQ,CAAC;IAC7C,OAAO,MAAMC,QAAQ,CAACE,mBAAmB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;EAC/D,CAAC,EAAE,CAACR,WAAW,EAAEC,SAAS,EAAEC,WAAW,CAAC,CAAC;EAEzC,oBAAO;IAAK,GAAG,EAAEK,UAAW;IAAA,UAAEH;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAO;AAC/C,CAAC;AAAC,GA5BWL,cAA+B;AAAA,KAA/BA,cAA+B;AAAA;AAAA"},"metadata":{},"sourceType":"module"}